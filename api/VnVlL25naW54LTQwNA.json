{"title":"Nginx部署刷新404","date":"2023-01-21T22:43:12.000Z","date_formatted":{"ll":"2023年1月21日","L":"2023/01/21","MM-DD":"01-21"},"link":"Vue/nginx-404","tags":["Nginx","Vue"],"categories":["Vue"],"updated":"2023-07-13T01:21:03.024Z","content":"<p>解决刷新 404 问题：</p>\n<ol>\n<li>\n<p>使用 hash 模式路由</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//vue3</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"title function_\">createRouter</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">linkActiveClass</span>: <span class=\"string\">&quot;active&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">history</span>: <span class=\"title function_\">createWebHistory</span>(),</span><br><span class=\"line\">\troutes,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//vue2</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">\t<span class=\"attr\">mode</span>: <span class=\"string\">&quot;hash&quot;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">routes</span>: [</span><br><span class=\"line\">\t\t&#123; <span class=\"attr\">path</span>: <span class=\"string\">&quot;/&quot;</span>, <span class=\"attr\">redirect</span>: <span class=\"string\">&quot;/login&quot;</span> &#125;,</span><br><span class=\"line\">\t\t&#123; <span class=\"attr\">path</span>: <span class=\"string\">&quot;/login&quot;</span>, <span class=\"attr\">component</span>: <span class=\"title class_\">Login</span> &#125;,</span><br><span class=\"line\">\t],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在 nginx 中配置</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">location</span> / &#123;</span><br><span class=\"line\">    <span class=\"attribute\">root</span>   html/dist;</span><br><span class=\"line\">    <span class=\"attribute\">index</span>  index.html index.htm;</span><br><span class=\"line\">    <span class=\"attribute\">try_files</span> <span class=\"variable\">$uri</span> <span class=\"variable\">$uri</span>/ /index.html;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n","prev":{"title":"react中使用...批量传递props","link":"React/react-three-dot-props"},"next":{"title":"vue-router中使用i18n来进行网页标题的国际化","link":"Vue/vue-router-i18n-html-title"},"plink":"http://hibi.pages.dev/Vue/nginx-404/","reading_time":"78 字约 1 分钟"}