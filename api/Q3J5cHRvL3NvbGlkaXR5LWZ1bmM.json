{"title":"solidity函数","date":"2023-05-29T20:12:12.000Z","date_formatted":{"ll":"2023年5月29日","L":"2023/05/29","MM-DD":"05-29"},"link":"Crypto/solidity-func","tags":["ETH","Solidity"],"categories":["Crypto"],"updated":"2023-08-03T02:12:57.490Z","content":"<p>function <function name>(<parameter types>) {internal|external|public|private} [pure|view|payable] [returns (<return types>)]</p>\n<ol>\n<li>\n<p><code>function</code>：声明函数时的固定用法，想写函数，就要以 function 关键字开头。</p>\n</li>\n<li>\n<p><code>&lt;function name&gt;</code>：函数名。</p>\n</li>\n<li>\n<p><code>(&lt;parameter types&gt;)</code>：圆括号里写函数的参数，也就是要输入到函数的变量类型和名字。</p>\n</li>\n<li>\n<p><code>&#123;internal|external|public|private&#125;</code>：函数可见性说明符，一共 4 种。没标明函数类型的，默认<code>public</code>。合约之外的函数，即&quot;自由函数&quot;，始终具有隐含<code>internal</code>可见性。</p>\n<ul>\n<li><code>public</code>: 内部外部均可见。</li>\n<li><code>private</code>: 只能从本合约内部访问，继承的合约也不能用。</li>\n<li><code>external</code>: 只能从合约外部访问（但是可以用<code>this.f()</code>来调用，<code>f</code>是函数名）。</li>\n<li><code>internal</code>: 只能从合约内部访问，继承的合约可以用。</li>\n</ul>\n<p><strong>Note 1</strong>: 没有标明可见性类型的函数，默认为<code>public</code>。</p>\n<p><strong>Note 2</strong>: <code>public|private|internal</code>  也可用于修饰状态变量。 <code>public</code>变量会自动生成同名的<code>getter</code>函数，用于查询数值。</p>\n<p><strong>Note 3</strong>: 没有标明可见性类型的状态变量，默认为<code>internal</code>。</p>\n</li>\n<li>\n<p><code>[pure|view|payable]</code>：决定函数权限/功能的关键字。<code>payable</code>（可支付的）很好理解，带着它的函数，运行的时候可以给合约转入<code>ETH</code>。</p>\n</li>\n<li>\n<p><code>[returns ()]</code>：函数返回的变量类型和名称。</p>\n</li>\n</ol>\n<p>关于 pure/view：</p>\n<p>被 pure 修饰的函数不可读取也不可修改链上数据，即纯粹的函数，函数内部无法直接读到合约内的变量，可以传入参数进行处理</p>\n<p>被 view 修饰的函数可以读取链上数据，但是不能修改</p>\n<p>默认为 payable 状态，可读可写</p>\n<blockquote>\n<p>注：实际上 pure/view 修饰的函数 gas 费会更高，猜测原因是由于默认支持链上数据读写，所以减少功能需要额外的标识，提升了 gas 费</p>\n</blockquote>\n","prev":{"title":"Ant Design的菜单常用配置","link":"React/ant-menu-common"},"next":{"title":"错误的v-deep弃用警告","link":"CSS/Incorrect-deep-deprecation-warning"},"plink":"http://hibi.pages.dev/Crypto/solidity-func/","reading_time":"460 字约 3 分钟"}