{"title":"在 element-plus 中保持菜单展开","date":"2023-02-22T20:35:12.000Z","date_formatted":{"ll":"2023年2月22日","L":"2023/02/22","MM-DD":"02-22"},"thumbnail":"https://cdn.jsdelivr.net/gh/hibichann/picgo@main/img1.png","link":"Vue/keep-menu-open-in-element-plus","tags":["Element Plus","Vue3"],"categories":["Vue"],"updated":"2023-08-03T02:00:33.435Z","content":"<p>在 element plus 中，有时我们需要始终保持菜单的展开状态（如单独的全展开的分类页），而在 element plus 中并未提供相应的属性。</p>\n<p>但是可以首先为<code>el-menu</code>设置<code>default-openeds</code> 属性，值为需要展开的菜单。<br>\n然后直接在<code>el-menu</code>的属性中，为菜单创建<code>ref</code>实例，并绑定<code>close</code>方法，在<code>close</code>方法中调用菜单实例身上的<code>open</code>方法来再次展开这个菜单。</p>\n<p>​ 需要保持菜单展开的情况许多时候还需要去除二级菜单后面的小箭头，可以通过为<code>.el-sub-menu__icon-arrow</code>设置 <code>display: none !important;</code> 来清除二级菜单后的按钮。</p>\n<p>模板：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">el-menu</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">class</span>=<span class=\"string\">&quot;el-menu-demo&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:ellipsis</span>=<span class=\"string\">&quot;false&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:default-openeds</span>=<span class=\"string\">&quot;[&#x27;2&#x27;, &#x27;2-4&#x27;]&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t@<span class=\"attr\">close</span>=<span class=\"string\">&quot;keepopen&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">ref</span>=<span class=\"string\">&quot;menuRef&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;0&quot;</span>&gt;</span>LOGO<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;flex-grow&quot;</span> /&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;1&quot;</span>&gt;</span>Processing Center<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">el-sub-menu</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">title</span>&gt;</span>Workspace<span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-1&quot;</span>&gt;</span>item one<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-2&quot;</span>&gt;</span>item two<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-3&quot;</span>&gt;</span>item three<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">el-sub-menu</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-4&quot;</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">template</span> #<span class=\"attr\">title</span>&gt;</span>item four<span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-4-1&quot;</span>&gt;</span>item one<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-4-2&quot;</span>&gt;</span>item two<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">el-menu-item</span> <span class=\"attr\">index</span>=<span class=\"string\">&quot;2-4-3&quot;</span>&gt;</span>item three<span class=\"tag\">&lt;/<span class=\"name\">el-menu-item</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">el-sub-menu</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">el-sub-menu</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">el-menu</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>方法：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> menuRef = ref &lt; any &gt; <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">keepopen</span> = (<span class=\"params\">s</span>) =&gt; &#123;</span><br><span class=\"line\">\tmenuRef.<span class=\"property\">value</span>.<span class=\"title function_\">open</span>(s)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://cdn.jsdelivr.net/gh/hibichann/picgo@main/img1.png\" alt=\"效果\" loading=\"lazy\" class=\"φbp\"></p>\n","prev":{"title":"JS总能够保证对象顺序么","link":"JavaScript/js-object-sort"},"next":{"title":"react中使用...批量传递props","link":"React/react-three-dot-props"},"plink":"http://hibi.pages.dev/Vue/keep-menu-open-in-element-plus/","reading_time":"366 字约 2 分钟"}